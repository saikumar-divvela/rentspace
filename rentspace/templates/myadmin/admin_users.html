<style>
	td {
		font-size: 12px;
	}
  .errormsg {
    color:red;
  }
</style>
<script type="text/javascript">
 
        $(".verifyid").click(function(e){
            var userid = $(this).attr('id');  
            var link = $(this);
            $.ajax({
                url: "verifyidcard",
                type: "get", 
                data:{userid:userid},
                success: function(response) {
                   link.text("Verified");
                   link.contents().unwrap();
                },
                error: function(xhr) {
                    $( "#status" ).html( "Error occurred");
                    link.text("Error:Try Again");
                }
            });
        });

        $(".verifyphone").click(function(e){
            var userid = $(this).attr('id');  
            var link = $(this);
            $.ajax({
                url: "verifyphone",
                type: "get", 
                data:{userid:userid},
                success: function(response) {
                   link.text("Verified");
                   link.contents().unwrap();
                },
                error: function(xhr) {
                    $( "#status" ).html( "Error occurred");
                    link.text("Error:Try Again");
                }
            });

        });

        $(".viewimage").click(function(e){
            var link = $(this);
            $("#imagemodal img").attr("src",link.attr("href"));
            $("#imagemodal").modal("show");
            return false;
        });

        /*
        $(function(){
           
        });
        */

</script>

Records count: {{ users.count }}
<table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Username</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Phone Number</th>
        <th>Is email verified</th>
        <th>Is phone verified</th>
        <th>Is Active</th>
        <th>Idcard Uploaded</th>
        <th>Is Id verified</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <div id="status" class="errormsg"> </div>
        </tr>
      {% for user in users %}
      	<tr>
        <td><a href="#usermodal" data-toggle="modal"> {{ user.email}} </a></td>
        <td>{{ user.first_name}}</td>
        <td>{{ user.last_name}}</td>
        <td>{{ user.phone_number}}</td>
        <td>{{ user.is_email_verified }}</td>

        {% if user.is_phone_verified %}
          <td>Verified</td>
        {% else %}
          <td><a href="#" id="{{user.id}}" class="btn btn-info verifyphone">Verify</a></td>
        {% endif %}


        <td>{{ user.is_active }}</td>
         {% if user.idphoto  and user.idphoto.url %}
        	<td><a href="{{user.idphoto.url}}" data-toggle="modal" id="{{user.id}}" class="btn btn-info viewimage">View Image</a></td>
         {% else %}
         	<td> Not Uploaded </td>
        {% endif %}

        {% if user.is_id_verified %}
          <td>Verified</td>
        {% else %}
          <td><a href="#" id="{{user.id}}" class="btn btn-info verifyid">Verify</a></td>
        {% endif %}

      	</tr>
      {% empty %}
        <tr>
        No Data Found
        </tr>
      {% endfor %}

    </tbody>
  </table>

  <div id="test">

  </div>

  <div id="imagemodal" class="modal fade">
        <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-body">
                  <img src="" class="img-responsive">
              </div>
          </div>
        </div>
  </div>